"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[87],{297(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-104-remove-account-assignments-3-5db0eea0384a63136aee1075c9fbc505.png"},386(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-12-users-c2145e815c7dab947806354c3dbd74ca.png"},521(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-12-users-create-cb98fd5cb06cd4f39ceb2ffd1e568c92.png"},525(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-91-tier0-cb50d598ddd3d19a232d90c219f54312.png"},630(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-105-remove-account-assignments-3-6c1733a21273b32d2b49e91437cc7697.png"},641(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-22-sso-login-check-8b72bcfef24d142afce7e0168721b17e.png"},767(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/config-enable-sharing-AWS-e6177bf0676cab6a453cc7d1d0fd871b.png"},1171(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-22-sso-login-full-config-a25de7c6f89e9d1f2bebb106c9a5c16f.png"},1300(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-73-app-login-5906332af209862c2e141030421cf8d9.png"},1680(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-72-sso-redirect-10deccdeaa75edbba0c23d2cd82dbbf8.png"},2049(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-102-destroy-network-a50c6c2f7a44ed0eb3b6b3edbc6e0d01.png"},2265(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"Migrating to Zero Trust Architecture on AWS/README","title":"Migrating to a Zero Trust Architecture on AWS (Multi-Account + Identity Center)","description":"Based on: aws-samples/moving-to-a-zero-trust-architecture-in-aws","source":"@site/docs/Migrating to Zero Trust Architecture on AWS/README.md","sourceDirName":"Migrating to Zero Trust Architecture on AWS","slug":"/Migrating to Zero Trust Architecture on AWS/","permalink":"/Cloud-Learning-Labs/docs/Migrating to Zero Trust Architecture on AWS/","draft":false,"unlisted":false,"editUrl":"https://github.com/HoangBaoPhuoc/Cloud-Learning-Labs/tree/main/packages/create-docusaurus/templates/shared/docs/Migrating to Zero Trust Architecture on AWS/README.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"GSP382","permalink":"/Cloud-Learning-Labs/docs/GSP382/"},"next":{"title":"Terraform CICD and Testing on AWS","permalink":"/Cloud-Learning-Labs/docs/Terraform CICD and Testing on AWS/"}}');var r=s(4848),t=s(8453);const c={},o="Migrating to a Zero Trust Architecture on AWS (Multi-Account + Identity Center)",d={},a=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"AWS Resources:",id:"aws-resources",level:3},{value:"Certificate Setup: Self-Signed Certificate (Lab Only)",id:"certificate-setup-self-signed-certificate-lab-only",level:3},{value:"Pros:",id:"pros",level:4},{value:"Cons:",id:"cons",level:4},{value:"Setup Steps:",id:"setup-steps",level:4},{value:"Certificate Setup: .id.vn Domain (Free for VN Citizens)",id:"certificate-setup-idvn-domain-free-for-vn-citizens",level:3},{value:"Pros:",id:"pros-1",level:4},{value:"Cons:",id:"cons-1",level:4},{value:"Setup Steps:",id:"setup-steps-1",level:4},{value:"Local Tools:",id:"local-tools",level:3},{value:"Workshop Scenario",id:"workshop-scenario",level:2},{value:"Task 1: Identity Center Setup (Configure Identity Management)",id:"task-1-identity-center-setup-configure-identity-management",level:2},{value:"Objective",id:"objective",level:3},{value:"Prerequisites",id:"prerequisites-1",level:3},{value:"Step 1: Create Groups (User Groups)",id:"step-1-create-groups-user-groups",level:3},{value:"Step 2: Create Users",id:"step-2-create-users",level:3},{value:"Primary User (Admin/Dev):",id:"primary-user-admindev",level:4},{value:"Secondary User (End User - Optional):",id:"secondary-user-end-user---optional",level:4},{value:"Step 3: Create Permission Sets",id:"step-3-create-permission-sets",level:3},{value:"Permission Set 1: Network Admin",id:"permission-set-1-network-admin",level:4},{value:"Permission Set 2: Application Developer",id:"permission-set-2-application-developer",level:4},{value:"Step 4: Assign Accounts (Assign Permissions to Accounts)",id:"step-4-assign-accounts-assign-permissions-to-accounts",level:3},{value:"Configuration for Network Account:",id:"configuration-for-network-account",level:4},{value:"Configuration for Frontend &amp; Backend Account:",id:"configuration-for-frontend--backend-account",level:4},{value:"Step 5: Verify Access (Crucial)",id:"step-5-verify-access-crucial",level:3},{value:"Task 2: Configure AWS CLI with SSO",id:"task-2-configure-aws-cli-with-sso",level:2},{value:"Objective",id:"objective-1",level:3},{value:"Prerequisites",id:"prerequisites-2",level:3},{value:"Step 1: Configure Network Account Profile",id:"step-1-configure-network-account-profile",level:3},{value:"Step 2: Configure Frontend and Backend Profiles",id:"step-2-configure-frontend-and-backend-profiles",level:3},{value:"For Frontend Account:",id:"for-frontend-account",level:4},{value:"For Backend Account:",id:"for-backend-account",level:4},{value:"Step 3: Verify Configuration",id:"step-3-verify-configuration",level:3},{value:"Step 4: Login to Activate Sessions",id:"step-4-login-to-activate-sessions",level:3},{value:"Task 3: Prepare Repository &amp; Variables",id:"task-3-prepare-repository--variables",level:2},{value:"Objective",id:"objective-2",level:3},{value:"Step 1",id:"step-1",level:3},{value:"Task 4: Deploy Networking Account",id:"task-4-deploy-networking-account",level:2},{value:"Objective",id:"objective-3",level:3},{value:"Step 1",id:"step-1-1",level:3},{value:"Task 5: Deploy Frontend Account + Build App",id:"task-5-deploy-frontend-account--build-app",level:2},{value:"Objective",id:"objective-4",level:3},{value:"Step 1",id:"step-1-2",level:3},{value:"Task 6: Deploy Backend Account + Build Services",id:"task-6-deploy-backend-account--build-services",level:2},{value:"Objective",id:"objective-5",level:3},{value:"Step 1",id:"step-1-3",level:3},{value:"Task 7: Verified Access Test",id:"task-7-verified-access-test",level:2},{value:"Objective",id:"objective-6",level:3},{value:"Step 1",id:"step-1-4",level:3},{value:"Task 8: Monitoring &amp; Troubleshooting",id:"task-8-monitoring--troubleshooting",level:2},{value:"Objective",id:"objective-7",level:3},{value:"Step 1",id:"step-1-5",level:3},{value:"Task 9: Cost Optimization (Tier 0)",id:"task-9-cost-optimization-tier-0",level:2},{value:"Task 10: Cleanup",id:"task-10-cleanup",level:2},{value:"Objective",id:"objective-8",level:3},{value:"Step 1: Clean up Application Artifacts",id:"step-1-clean-up-application-artifacts",level:3},{value:"Step 2: Destroy Infrastructure (Terraform)",id:"step-2-destroy-infrastructure-terraform",level:3},{value:"Step 3: Clean up Logs (Hidden Costs)",id:"step-3-clean-up-logs-hidden-costs",level:3},{value:"Step 4: Clean up Identity Center (Manual)",id:"step-4-clean-up-identity-center-manual",level:3},{value:"Remove Account Assignments:",id:"remove-account-assignments",level:4},{value:"Delete Permission Sets:",id:"delete-permission-sets",level:4},{value:"Delete Users/Groups (Optional):",id:"delete-usersgroups-optional",level:4},{value:"Step 5: Handling Member Accounts",id:"step-5-handling-member-accounts",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"Workshop Completion Status",id:"workshop-completion-status",level:2},{value:"Additional Resources",id:"additional-resources",level:2}];function l(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"migrating-to-a-zero-trust-architecture-on-aws-multi-account--identity-center",children:"Migrating to a Zero Trust Architecture on AWS (Multi-Account + Identity Center)"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Based on:"})," aws-samples/moving-to-a-zero-trust-architecture-in-aws",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Focus:"})," Zero Trust, Verified Access, VPC Lattice, Multi-Account, IAM Identity Center, Terraform",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Duration:"})," 5 hours",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Level:"})," Intermediate",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Status:"})," Completed",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Author:"})," HoangBaoPhuoc (phuochb)",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"Co-author:"})," PNg-HA (Anh Pham)"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"This workshop guides you through building a Zero Trust architecture on AWS using Terraform across multiple AWS accounts. You will use AWS Verified Access for VPN-less access, Amazon VPC Lattice for service-to-service connectivity, and IAM Identity Center for centralized authentication and authorization."}),"\n",(0,r.jsx)(n.p,{children:"What you\u2019ll build:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Networking Account: VPC Lattice Service Network, Route 53 Profile/Private Hosted Zone, RAM sharing, and Parameter Store"}),"\n",(0,r.jsx)(n.li,{children:"Frontend Account: VPC + ECS Fargate + ALB + ECR + Verified Access"}),"\n",(0,r.jsx)(n.li,{children:"Backend Account: VPC + ECS (mservice1) + Lambda (mservice2) + ECR + VPC Lattice Services"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mermaid",children:'graph TB\n    User((User))\n    \n    subgraph "Frontend Account"\n        AVA[AWS Verified Access]\n        ALB[Application Load Balancer]\n        Frontend[ECS Fargate: Frontend]\n    end\n\n    subgraph "Networking Account"\n        LatticeSN[VPC Lattice Service Network]\n        R53[Route 53 Profile & RAM]\n    end\n\n    subgraph "Backend Account"\n        subgraph "VPC Lattice Services"\n            LS1[Service: mservice1]\n            LS2[Service: mservice2]\n        end\n        Backend1[ECS Fargate: mservice1]\n        Backend2[Lambda: mservice2]\n    end\n\n    User -- "HTTPS (SSO)" --\x3e AVA\n    AVA -- "Forward" --\x3e ALB\n    ALB --\x3e Frontend\n    \n    Frontend -- "Call mservice1/2" --\x3e LatticeSN\n    LatticeSN -- "Route" --\x3e LS1\n    LatticeSN -- "Route" --\x3e LS2\n    \n    LS1 --\x3e Backend1\n    LS2 --\x3e Backend2\n    \n    R53 -. "Shared via RAM" .-> LatticeSN\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.h3,{id:"aws-resources",children:"AWS Resources:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"3 AWS accounts (Network, Frontend, Backend) in one Organization"}),"\n",(0,r.jsx)(n.li,{children:"IAM Identity Center (AWS SSO) enabled in Management Account"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"certificate-setup-self-signed-certificate-lab-only",children:"Certificate Setup: Self-Signed Certificate (Lab Only)"}),"\n",(0,r.jsx)(n.h4,{id:"pros",children:"Pros:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"100% Free"})," - No domain purchase needed"]}),"\n",(0,r.jsx)(n.li,{children:"Quick setup (5 minutes)"}),"\n",(0,r.jsx)(n.li,{children:"Works for learning and testing"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"cons",children:"Cons:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'Browser warnings (must click "Accept Risk")'}),"\n",(0,r.jsx)(n.li,{children:"Not suitable for production"}),"\n",(0,r.jsx)(n.li,{children:"AWS Verified Access may require additional configuration (handled in this guide)"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"setup-steps",children:"Setup Steps:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 1: Generate Self-Signed Certificate"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# 1. Create directory (if not exists) and enter it\nmkdir ~/certs; cd ~/certs\n\n# 2. Generate Key and Certificate in ONE command (Universal syntax)\n# Note: We use *.zerotrust.local to make it clear this is a private/fake domain\nopenssl req -x509 -newkey rsa:2048 -keyout key.pem -out cert.pem -days 365 -nodes -subj "/C=VN/ST=HCM/L=HCMC/O=DevOps/OU=Lab/CN=*.zerotrust.local"\n\n#If error you can try to implement the env of Git (in Windows)\n$env:OPENSSL_CONF = "C:\\Program Files\\Git\\usr\\ssl\\openssl.cnf"\n\n# 3. Verify files exist\nls\n# Expected output: cert.pem, key.pem\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 2: Import to AWS Certificate Manager (ACM)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"aws acm import-certificate \\\n  --certificate fileb://cert.pem \\\n  --private-key fileb://key.pem \\\n  --region ap-southeast-1 \\\n  --profile frontend-account\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 3: Copy the Certificate ARN"})}),"\n",(0,r.jsx)(n.p,{children:"The command will output an ARN like:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"arn:aws:acm:ap-southeast-1:123456789012:certificate/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Save this ARN for ",(0,r.jsx)(n.code,{children:"terraform.tfvars"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 4: Update terraform.tfvars"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-hcl",children:'certificate_arn = "arn:aws:acm:ap-southeast-1:123456789012:certificate/your-cert-id"\nfrontend_domain_name = "zerotrust-lab.local"  # Use .local for self-signed\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"certificate-setup-idvn-domain-free-for-vn-citizens",children:"Certificate Setup: .id.vn Domain (Free for VN Citizens)"}),"\n",(0,r.jsx)(n.h4,{id:"pros-1",children:"Pros:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Valid Public Certificate - No browser warnings (Secure)."}),"\n",(0,r.jsx)(n.li,{children:"Professional - Real internet-accessible domain."}),"\n",(0,r.jsx)(n.li,{children:'Free Cost - Supported by "Ch\u01b0\u01a1ng tr\xecnh hi\u1ec7n di\u1ec7n tr\u1ef1c tuy\u1ebfn v\u1edbi t\xean mi\u1ec1n qu\u1ed1c gia .id.vn" (18-23 years old).'}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"cons-1",children:"Cons:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Registration process takes time (KYC)."}),"\n",(0,r.jsx)(n.li,{children:"Requires defined DNS management."}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"setup-steps-1",children:"Setup Steps:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 1: Register .id.vn Domain"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Register at Vietnamese Registrars (iNET, TenTen, MatBao, etc.) for the ",(0,r.jsx)(n.code,{children:"id.vn"})," program."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Example domain"}),": ",(0,r.jsx)(n.code,{children:"nguyenvan-zta.id.vn"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 2: Create Public Hosted Zone in AWS"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Login to ",(0,r.jsx)(n.strong,{children:"Network Account"})," (Recommended) or ",(0,r.jsx)(n.em,{children:"Frontend Account"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.strong,{children:"Route 53"})," > ",(0,r.jsx)(n.strong,{children:"Hosted zones"})," > ",(0,r.jsx)(n.strong,{children:"Create hosted zone"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Domain name"}),": ",(0,r.jsx)(n.code,{children:"nguyenvan-zta.id.vn"})," (Replace with your registered domain)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type"}),": ",(0,r.jsx)(n.strong,{children:"Public hosted zone"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["After creation, Route 53 will generate 4 ",(0,r.jsx)(n.strong,{children:"Name Servers (NS)"})," in the NS record."]}),"\n",(0,r.jsxs)(n.li,{children:["Copy these 4 NS values (e.g., ",(0,r.jsx)(n.code,{children:"ns-123.awsdns-01.com"}),", etc.)."]}),"\n",(0,r.jsxs)(n.li,{children:["Go to your ",(0,r.jsx)(n.strong,{children:"Domain Registrar's management page"})," (where you bought the domain) and ",(0,r.jsx)(n.strong,{children:"Update Name Servers"})," to point to these 4 AWS NS values."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 3: Request Public Certificate"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Login to ",(0,r.jsx)(n.strong,{children:"Frontend Account"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.strong,{children:"AWS Certificate Manager (ACM)"})," > ",(0,r.jsx)(n.strong,{children:"Request certificate"})," > ",(0,r.jsx)(n.strong,{children:"Request a public certificate"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Domain name"}),": ",(0,r.jsx)(n.code,{children:"*.nguyenvan-zta.id.vn"})," (Wildcard is recommended) or ",(0,r.jsx)(n.code,{children:"app.nguyenvan-zta.id.vn"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Validation method"}),": ",(0,r.jsx)(n.strong,{children:"DNS validation"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Request"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Validate the Certificate"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Click on the Certificate ID you just created."}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Option A (Same Account)"}),": If your Route 53 Hosted Zone is in the ",(0,r.jsx)(n.em,{children:"same"})," account (Frontend), click ",(0,r.jsx)(n.strong,{children:"Create records in Route 53"})," > ",(0,r.jsx)(n.strong,{children:"Create records"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Option B (Cross-Account - Recommended)"}),": If your Route 53 Hosted Zone is in the ",(0,r.jsx)(n.strong,{children:"Network Account"}),":","\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Copy the ",(0,r.jsx)(n.strong,{children:"CNAME name"})," and ",(0,r.jsx)(n.strong,{children:"CNAME value"})," from the ACM console."]}),"\n",(0,r.jsxs)(n.li,{children:["Login to the ",(0,r.jsx)(n.strong,{children:"Network Account"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.strong,{children:"Route 53"})," > ",(0,r.jsx)(n.strong,{children:"Hosted zones"})," > Select your domain."]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Create record"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Record name"}),": Paste the CNAME name (Note: If Route 53 auto-appends the domain, ensure you don't duplicate it. Usually, paste only the ",(0,r.jsx)(n.code,{children:"_randomstring"})," part)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Record type"}),": ",(0,r.jsx)(n.code,{children:"CNAME"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Value"}),": Paste the CNAME value."]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Create records"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 4: Update terraform.tfvars"})}),"\n",(0,r.jsxs)(n.p,{children:["Open the file ",(0,r.jsx)(n.code,{children:"workshop/frontend/terraform.tfvars"})," and update the following variables:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-hcl",children:'certificate_arn = "arn:aws:acm:ap-southeast-1:123456789012:certificate/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"\nfrontend_domain_name = "app.nguyenvan-zta.id.vn"\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Step 5: Add CNAME for Application (After Deployment)"}),"\nAfter running Terraform (Task 5), you will get an output ",(0,r.jsx)(n.code,{children:"verified_access_endpoint_domain"})," (e.g., ",(0,r.jsx)(n.code,{children:"edge-123...amazonaws.com"}),")."]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.strong,{children:"Route 53"})," (in Network Account)."]}),"\n",(0,r.jsxs)(n.li,{children:["Create Record:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Name"}),": ",(0,r.jsx)(n.code,{children:"app"})," (or whatever subdomain you chose in ",(0,r.jsx)(n.code,{children:"frontend_domain_name"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type"}),": ",(0,r.jsx)(n.code,{children:"CNAME"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Value"}),": The value from ",(0,r.jsx)(n.code,{children:"verified_access_endpoint_domain"})," output."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TTL"}),": 300."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"local-tools",children:"Local Tools:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"AWS CLI v2, Terraform \u2265 1.3.0, Docker installed"}),"\n",(0,r.jsx)(n.li,{children:"Basic familiarity with Terraform and AWS IAM"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"workshop-scenario",children:"Workshop Scenario"}),"\n",(0,r.jsx)(n.p,{children:"You are a Cloud/Platform Engineer tasked with implementing a Zero Trust access model across multiple AWS accounts. Users must authenticate via IAM Identity Center to access a frontend app, which communicates with backend services via VPC Lattice. All infrastructure should be reproducible via Terraform and cost-optimized for a lab (tier 0)."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"task-1-identity-center-setup-configure-identity-management",children:"Task 1: Identity Center Setup (Configure Identity Management)"}),"\n",(0,r.jsx)(n.h3,{id:"objective",children:"Objective"}),"\n",(0,r.jsx)(n.p,{children:"Set up IAM Identity Center on the Management account, create users, assign permissions, and grant access to member accounts (Network, Frontend, Backend)."}),"\n",(0,r.jsx)(n.h3,{id:"prerequisites-1",children:"Prerequisites"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Logged into the Management account (1400)."}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"AWS Organizations Configured"}),": 3 member accounts (ZT-Network-Account, ZT-Frontend-Account, ZT-Backend-Account) must be created via AWS Organizations service before starting this task."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Create Accounts \u2013 to be added",src:s(4224).A+"",width:"1857",height:"1019"})}),"\n",(0,r.jsx)(n.h3,{id:"step-1-create-groups-user-groups",children:"Step 1: Create Groups (User Groups)"}),"\n",(0,r.jsx)(n.p,{children:"Create 3 groups to categorize user roles within the organization."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Navigate to ",(0,r.jsx)(n.strong,{children:"IAM Identity Center Console"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["In the left menu, select ",(0,r.jsx)(n.strong,{children:"Groups"})," > ",(0,r.jsx)(n.strong,{children:"Create group"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Create the following 3 groups:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Group 1"}),": ",(0,r.jsx)(n.code,{children:"ZeroTrust-Admins"})," (Network infrastructure administrators)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Group 2"}),": ",(0,r.jsx)(n.code,{children:"ZeroTrust-Developers"})," (Application deployment developers)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Group 3"}),": ",(0,r.jsx)(n.code,{children:"ZeroTrust-AppUsers"})," (End users accessing applications)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Create Groups \u2013 to be added",src:s(3681).A+"",width:"1747",height:"891"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsx)(n.li,{children:"Verify that all groups have been created successfully."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-2-create-users",children:"Step 2: Create Users"}),"\n",(0,r.jsx)(n.p,{children:"Create a primary User (Developer) for the lab and an optional secondary User (End User) for testing access."}),"\n",(0,r.jsx)(n.h4,{id:"primary-user-admindev",children:"Primary User (Admin/Dev):"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["In the left menu, select ",(0,r.jsx)(n.strong,{children:"Users"})," > ",(0,r.jsx)(n.strong,{children:"Add user"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Fill in the user details:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Username"}),": ",(0,r.jsx)(n.code,{children:"dev1"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Password"}),": Select ",(0,r.jsx)(n.strong,{children:"Generate a one-time password..."})," (to get password immediately)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Email/Name"}),": Enter your information."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Create Users \u2013 to be added",src:s(521).A+"",width:"1859",height:"954"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Add user to groups"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Add user ",(0,r.jsx)(n.code,{children:"dev1"})," to both groups: ",(0,r.jsx)(n.code,{children:"ZeroTrust-Admins"})," and ",(0,r.jsx)(n.code,{children:"ZeroTrust-Developers"})," (to grant full lab permissions)."]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Add user"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Create Users \u2013 to be added",src:s(7034).A+"",width:"1874",height:"955"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Save login information"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A dialog box will appear containing Portal URL, Username, and One-time password."}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"IMPORTANT"}),": Copy and save this information to a Note immediately. You will need it for subsequent tasks."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Create Users \u2013 to be added",src:s(4347).A+"",width:"1880",height:"964"})}),"\n",(0,r.jsx)(n.h4,{id:"secondary-user-end-user---optional",children:"Secondary User (End User - Optional):"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Create an additional user ",(0,r.jsx)(n.code,{children:"user1"})," and add only to the ",(0,r.jsx)(n.code,{children:"ZeroTrust-AppUsers"})," group (for testing in Task 7).\n",(0,r.jsx)(n.img,{alt:"alt text",src:s(9061).A+"",width:"1878",height:"956"}),"\n",(0,r.jsx)(n.img,{alt:"alt text",src:s(386).A+"",width:"1878",height:"956"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-3-create-permission-sets",children:"Step 3: Create Permission Sets"}),"\n",(0,r.jsx)(n.p,{children:"Define permission sets to apply to AWS accounts."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["In the left menu, select ",(0,r.jsx)(n.strong,{children:"Permission sets"})," > ",(0,r.jsx)(n.strong,{children:"Create permission set"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"permission-set-1-network-admin",children:"Permission Set 1: Network Admin"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Select ",(0,r.jsx)(n.strong,{children:"Predefined permission set"})," > ",(0,r.jsx)(n.strong,{children:"AdministratorAccess"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Name: ",(0,r.jsx)(n.code,{children:"ZeroTrust-NetworkAdmin"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Description: ",(0,r.jsx)(n.em,{children:'"Full access for Network Account"'}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Create"}),".\n",(0,r.jsx)(n.img,{alt:"Permission Sets \u2013 to be added",src:s(4314).A+"",width:"1873",height:"956"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"permission-set-2-application-developer",children:"Permission Set 2: Application Developer"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Select ",(0,r.jsx)(n.strong,{children:"Predefined permission set"})," > ",(0,r.jsx)(n.strong,{children:"PowerUserAccess"})," (or ",(0,r.jsx)(n.strong,{children:"AdministratorAccess"})," to avoid permission issues)."]}),"\n",(0,r.jsxs)(n.li,{children:["Name: ",(0,r.jsx)(n.code,{children:"ZeroTrust-AppDeveloper"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Description: ",(0,r.jsx)(n.em,{children:'"Access for Frontend/Backend Accounts"'}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Note: For a smooth lab experience, you may attach additional policy ",(0,r.jsx)(n.code,{children:"AmazonEC2ContainerRegistryFullAccess"})," (Inline policy) if needed, or simply use ",(0,r.jsx)(n.code,{children:"AdministratorAccess"})," for this permission set to avoid permission errors during Terraform deployment."]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Create"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Permission Sets \u2013 to be added",src:s(6870).A+"",width:"1231",height:"270"})}),"\n",(0,r.jsx)(n.h3,{id:"step-4-assign-accounts-assign-permissions-to-accounts",children:"Step 4: Assign Accounts (Assign Permissions to Accounts)"}),"\n",(0,r.jsxs)(n.p,{children:["This step maps: ",(0,r.jsx)(n.strong,{children:"Who (Group) + What permissions (Permission Set) + To which account (Account)"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"configuration-for-network-account",children:"Configuration for Network Account:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["In the left menu, select ",(0,r.jsx)(n.strong,{children:"AWS accounts"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note"}),": If you do not see your accounts immediately, ensure you expand the Root hierarchy or the specific Organizational Unit (OU) folder in the list view."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Select the ",(0,r.jsx)(n.code,{children:"ZT-Network-Account"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Click ",(0,r.jsx)(n.strong,{children:"Assign users or groups"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Select the ",(0,r.jsx)(n.strong,{children:"Groups"})," tab > Select ",(0,r.jsx)(n.code,{children:"ZeroTrust-Admins"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Click ",(0,r.jsx)(n.strong,{children:"Next"})," > Select Permission Set ",(0,r.jsx)(n.code,{children:"ZeroTrust-NetworkAdmin"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Click ",(0,r.jsx)(n.strong,{children:"Submit"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"Assign Accounts \u2013 to be added",src:s(6625).A+"",width:"1873",height:"956"}),"\n",(0,r.jsx)(n.img,{alt:"Assign Accounts \u2013 to be added",src:s(8963).A+"",width:"1873",height:"956"})]}),"\n",(0,r.jsx)(n.h4,{id:"configuration-for-frontend--backend-account",children:"Configuration for Frontend & Backend Account:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Select both accounts ",(0,r.jsx)(n.code,{children:"ZT-Frontend-Account"})," and ",(0,r.jsx)(n.code,{children:"ZT-Backend-Account"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Assign users or groups"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Select the ",(0,r.jsx)(n.strong,{children:"Groups"})," tab > Select ",(0,r.jsx)(n.code,{children:"ZeroTrust-Developers"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Next"})," > Select Permission Set ",(0,r.jsx)(n.code,{children:"ZeroTrust-AppDeveloper"})," (or ",(0,r.jsx)(n.code,{children:"ZeroTrust-NetworkAdmin"})," if you prefer to grant full Admin permissions for convenience)."]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Submit"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Assign Accounts \u2013 to be added",src:s(4688).A+"",width:"1747",height:"891"})}),"\n",(0,r.jsx)(n.h3,{id:"step-5-verify-access-crucial",children:"Step 5: Verify Access (Crucial)"}),"\n",(0,r.jsx)(n.p,{children:"Verify that the configuration is working correctly by logging in as the new user."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Open a ",(0,r.jsx)(n.strong,{children:"Private/Incognito browser window"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Navigate to the ",(0,r.jsx)(n.strong,{children:"AWS Access Portal URL"})," (saved in Step 2, e.g., ",(0,r.jsx)(n.code,{children:"https://d-xxxxxxxx.awsapps.com/start"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:["Log in using:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Username"}),": ",(0,r.jsx)(n.code,{children:"dev1"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Password"}),": The one-time password saved earlier."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"You will be prompted to set a new password."}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Success Criteria"}),": You should see the AWS Access Portal dashboard listing all 3 accounts: ZT-Network, ZT-Frontend, and ZT-Backend."]}),"\n",(0,r.jsxs)(n.li,{children:["Click on ",(0,r.jsx)(n.strong,{children:"ZT-Network-Account"})," > ",(0,r.jsx)(n.strong,{children:"Management Console"})," to confirm you can access the AWS Console."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"task-2-configure-aws-cli-with-sso",children:"Task 2: Configure AWS CLI with SSO"}),"\n",(0,r.jsx)(n.h3,{id:"objective-1",children:"Objective"}),"\n",(0,r.jsxs)(n.p,{children:["Set up local AWS CLI profiles (",(0,r.jsx)(n.code,{children:"network-account"}),", ",(0,r.jsx)(n.code,{children:"frontend-account"}),", ",(0,r.jsx)(n.code,{children:"backend-account"}),") to authenticate via IAM Identity Center. This allows Terraform to deploy resources into the correct accounts."]}),"\n",(0,r.jsx)(n.h3,{id:"prerequisites-2",children:"Prerequisites"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SSO Start URL"}),": Retrieved from Task 1 (e.g., ",(0,r.jsx)(n.code,{children:"https://d-xxxxxxxx.awsapps.com/start"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Region"}),": ",(0,r.jsx)(n.code,{children:"ap-southeast-1"})," (Singapore)."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-1-configure-network-account-profile",children:"Step 1: Configure Network Account Profile"}),"\n",(0,r.jsx)(n.p,{children:"Run the configuration wizard to set up the SSO session and the first profile."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"aws configure sso\n"})}),"\n",(0,r.jsx)(n.p,{children:"Input details when prompted:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SSO session name (Recommended)"}),": ",(0,r.jsx)(n.code,{children:"zerotrust-lab"})," (Use this name to group all accounts under one login session)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SSO start URL"}),": Enter your URL from Task 1."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SSO region"}),": ",(0,r.jsx)(n.code,{children:"ap-southeast-1"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["SSO registration scopes [sso:account",":access","]"]}),": Press Enter (Default)."]}),"\n",(0,r.jsxs)(n.li,{children:["(Browser will open \u2192 Click ",(0,r.jsx)(n.strong,{children:'"Confirm and continue"'})," \u2192 ",(0,r.jsx)(n.strong,{children:'"Allow"'}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"AWS Configure SSO \u2013 to be added",src:s(5425).A+"",width:"1253",height:"264"})}),"\n",(0,r.jsxs)(n.ol,{start:"6",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Select Account"}),": Select ",(0,r.jsx)(n.code,{children:"ZT-Network-Account"})," using arrow keys."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Select Role"}),": Select the admin role (e.g., ",(0,r.jsx)(n.code,{children:"ZeroTrust-NetworkAdmin"})," or ",(0,r.jsx)(n.code,{children:"AdministratorAccess"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CLI default client Region"}),": ",(0,r.jsx)(n.code,{children:"ap-southeast-1"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CLI default output format"}),": ",(0,r.jsx)(n.code,{children:"json"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CLI profile name"}),": ",(0,r.jsx)(n.code,{children:"network-account"})," (",(0,r.jsx)(n.strong,{children:"CRITICAL"}),": Must match this exact name)."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-2-configure-frontend-and-backend-profiles",children:"Step 2: Configure Frontend and Backend Profiles"}),"\n",(0,r.jsxs)(n.p,{children:["Repeat the process for the remaining accounts. Since the session ",(0,r.jsx)(n.code,{children:"zerotrust-lab"})," is already created, the wizard will be shorter."]}),"\n",(0,r.jsx)(n.h4,{id:"for-frontend-account",children:"For Frontend Account:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Run ",(0,r.jsx)(n.code,{children:"aws configure sso"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SSO session name"}),": Select ",(0,r.jsx)(n.code,{children:"zerotrust-lab"})," (Press Enter)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Select Account"}),": Choose ",(0,r.jsx)(n.code,{children:"ZT-Frontend-Account"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Select Role"}),": Choose the available role (e.g., ",(0,r.jsx)(n.code,{children:"ZeroTrust-AppDeveloper"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CLI profile name"}),": ",(0,r.jsx)(n.code,{children:"frontend-account"})," (Must match exactly)."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"for-backend-account",children:"For Backend Account:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Run ",(0,r.jsx)(n.code,{children:"aws configure sso"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SSO session name"}),": Select ",(0,r.jsx)(n.code,{children:"zerotrust-lab"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Select Account"}),": Choose ",(0,r.jsx)(n.code,{children:"ZT-Backend-Account"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Select Role"}),": Choose the available role."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CLI profile name"}),": ",(0,r.jsx)(n.code,{children:"backend-account"})," (Must match exactly)."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"SSO Browser Login \u2013 to be added",src:s(1171).A+"",width:"1294",height:"781"})}),"\n",(0,r.jsx)(n.h3,{id:"step-3-verify-configuration",children:"Step 3: Verify Configuration"}),"\n",(0,r.jsx)(n.p,{children:"Ensure that the config file contains 3 distinct profiles and 1 SSO session."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# On Linux/Mac\ncat ~/.aws/config\n\n# On Windows PowerShell\nGet-Content $env:USERPROFILE\\.aws\\config\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Expected Output"}),": You should see ",(0,r.jsx)(n.code,{children:"[profile network-account]"}),", ",(0,r.jsx)(n.code,{children:"[profile frontend-account]"}),", and ",(0,r.jsx)(n.code,{children:"[profile backend-account]"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"SSO Browser Login \u2013 to be added",src:s(641).A+"",width:"530",height:"363"})}),"\n",(0,r.jsx)(n.h3,{id:"step-4-login-to-activate-sessions",children:"Step 4: Login to Activate Sessions"}),"\n",(0,r.jsx)(n.p,{children:"Before running Terraform, ensure you have active credentials for all profiles."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Login to the named profiles (This will refresh the token for the zerotrust-lab session)\naws sso login --profile network-account\naws sso login --profile frontend-account\naws sso login --profile backend-account\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note"}),": Since they share the ",(0,r.jsx)(n.code,{children:"zerotrust-lab"})," session, logging into one usually refreshes access for all associated accounts."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"task-3-prepare-repository--variables",children:"Task 3: Prepare Repository & Variables"}),"\n",(0,r.jsx)(n.h3,{id:"objective-2",children:"Objective"}),"\n",(0,r.jsx)(n.p,{children:"Clone the repo and prepare terraform.tfvars from examples."}),"\n",(0,r.jsx)(n.h3,{id:"step-1",children:"Step 1"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Direct to the folder workshop:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd Cloud-Learning-Labs\\labs\\Migrating to Zero Trust Architecture on AWS\\workshop\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Create and fill tfvars files from provided examples:"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Action"}),": Copy the ",(0,r.jsx)(n.code,{children:"terraform.tfvars.example"})," file in each folder to ",(0,r.jsx)(n.code,{children:"terraform.tfvars"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note"}),": Retrieve these IDs from your AWS Console:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Organization ID"}),": AWS Organizations console."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Account IDs"}),": AWS Organizations or Account dropdown menu."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Group ID"}),": IAM Identity Center console (Groups tab).\n",(0,r.jsx)(n.img,{alt:"Fill tfvars files",src:s(3590).A+"",width:"1848",height:"1011"}),"\n",(0,r.jsx)(n.img,{alt:"Fill tfvars files",src:s(7900).A+"",width:"915",height:"212"}),"\n",(0,r.jsx)(n.img,{alt:"Fill tfvars files",src:s(5595).A+"",width:"1876",height:"956"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"network/terraform.tfvars"})," \u2192 ",(0,r.jsx)(n.code,{children:"organization_id"}),", hosted zones, account IDs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"frontend/terraform.tfvars"})," \u2192 ",(0,r.jsx)(n.code,{children:"certificate_arn"}),", ",(0,r.jsx)(n.code,{children:"frontend_domain_name"}),", ",(0,r.jsx)(n.code,{children:"idc_group_id"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"backend/terraform.tfvars"})," \u2192 ",(0,r.jsx)(n.code,{children:"certificate_arn"}),", ",(0,r.jsx)(n.code,{children:"frontend_application_role_arn"})," (Wait for Task 5 output)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Confirm providers use SSO profiles and region ",(0,r.jsx)(n.code,{children:"ap-southeast-1"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"task-4-deploy-networking-account",children:"Task 4: Deploy Networking Account"}),"\n",(0,r.jsx)(n.h3,{id:"objective-3",children:"Objective"}),"\n",(0,r.jsx)(n.p,{children:"Create VPC Lattice Service Network, Route 53 Profile/PHZ, and share via RAM."}),"\n",(0,r.jsx)(n.h3,{id:"step-1-1",children:"Step 1"}),"\n",(0,r.jsxs)(n.p,{children:["Before apply you must enable RAM sharing with AWS Organizations\n",(0,r.jsx)(n.img,{alt:"Deploy Networking",src:s(767).A+"",width:"1874",height:"671"})]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Login SSO and deploy:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"aws sso login --profile network-account\n\ncd workshop/network/\nterraform init\nterraform plan\nterraform apply -auto-approve\nterraform output > ../network-outputs.txt\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"Terraform Apply (Network) \u2013 to be added",src:s(3059).A+"",width:"878",height:"173"}),"\n",(0,r.jsx)(n.img,{alt:"Terraform Apply (Network) \u2013 to be added",src:s(9275).A+"",width:"1079",height:"128"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Note outputs for later: ",(0,r.jsx)(n.code,{children:"vpc_lattice_service_network_arn"}),", ",(0,r.jsx)(n.code,{children:"route53_profile_id"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"task-5-deploy-frontend-account--build-app",children:"Task 5: Deploy Frontend Account + Build App"}),"\n",(0,r.jsx)(n.h3,{id:"objective-4",children:"Objective"}),"\n",(0,r.jsx)(n.p,{children:"Provision VPC, ECS, ALB, ECR, Verified Access; push frontend image to ECR."}),"\n",(0,r.jsx)(n.h3,{id:"step-1-2",children:"Step 1"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Deploy infrastructure:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"aws sso login --profile frontend-account\n\ncd ../frontend/\nterraform init\nterraform plan\nterraform apply -auto-approve\nterraform output > ../frontend-outputs.txt\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"Terraform Apply (Frontend) \u2013 to be added",src:s(4122).A+"",width:"1015",height:"178"}),"\n",(0,r.jsx)(n.img,{alt:"Terraform Apply (Frontend) \u2013 to be added",src:s(6378).A+"",width:"1142",height:"140"}),"\nOutputs to capture: ",(0,r.jsx)(n.code,{children:"ecr_repository_url"}),", ",(0,r.jsx)(n.code,{children:"verified_access_endpoint_url"}),", ",(0,r.jsx)(n.code,{children:"frontend_task_role_arn"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Build & push frontend image:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# For linux or mac\ncd ../applications/portal/\nchmod +x dockerpush.sh\n./dockerpush.sh\n\n# For windows (PowerShell)\n# 1. Move to folder containing code\ncd "..\\applications\\portal"\n\n# 2. Declare variables (Replace with your values)\n$AWS_REGION = "ap-southeast-1"\n# To get ID: aws sts get-caller-identity --query Account --output text --profile frontend-account\n$AWS_ACCOUNT_ID = "123456789012"     # Replace with your Frontend Account ID\n$ECR_REPO_NAME = "frontend"\n$AWS_PROFILE = "frontend-account"    # Replace with your SSO profile name\n\n# 3. Login ECR\n# Note: Using \'cmd /C\' to avoid PowerShell pipe encoding issues\ncmd /C "aws ecr get-login-password --region $AWS_REGION --profile $AWS_PROFILE | docker login --username AWS --password-stdin $AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com"\n\n# 4. Build Image\ndocker build -t $ECR_REPO_NAME .\n\n# 5. Tag & Push\ndocker tag "$ECR_REPO_NAME`:latest" "$AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com/$ECR_REPO_NAME`:latest"\ndocker push "$AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com/$ECR_REPO_NAME`:latest"\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"ECR Push \u2013 to be added",src:s(2886).A+"",width:"1147",height:"649"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Force new ECS deployment to pull latest image:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'aws ecs update-service --cluster frontend --service frontend --force-new-deployment --profile frontend-account\n\n# Check service status\naws ecs describe-services --cluster frontend --services frontend --profile frontend-account --query "services[0].{Status:status, Running:runningCount, Desired:desiredCount, Events:events[0].message}"\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"ECS Service \u2013 to be added",src:s(8897).A+"",width:"1147",height:"175"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"task-6-deploy-backend-account--build-services",children:"Task 6: Deploy Backend Account + Build Services"}),"\n",(0,r.jsx)(n.h3,{id:"objective-5",children:"Objective"}),"\n",(0,r.jsx)(n.p,{children:"Provision VPC, ECS (mservice1), Lambda (mservice2), and Lattice Services; push image and update function."}),"\n",(0,r.jsx)(n.h3,{id:"step-1-3",children:"Step 1"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Update ",(0,r.jsx)(n.code,{children:"backend/terraform.tfvars"})," with ",(0,r.jsx)(n.code,{children:"frontend_application_role_arn"})," from Task 5."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Deploy infrastructure:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"aws sso login --profile backend-account\n\ncd ../../backend/\nterraform init\nterraform plan\nterraform apply -auto-approve\nterraform output > ../backend-outputs.txt\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"Terraform Apply (Backend) \u2013 to be added",src:s(5916).A+"",width:"787",height:"165"}),"\n",(0,r.jsx)(n.img,{alt:"Terraform Apply (Backend) \u2013 to be added",src:s(7193).A+"",width:"848",height:"122"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Build & push mservice1:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# For linux or mac\ncd ../applications/mservice1/\nchmod +x dockerpush.sh\n./dockerpush.sh\n\n# For windows (PowerShell)\n# 1. Move to folder containing code\ncd "..\\applications\\mservice1"\n\n# 2. Declare variables (Replace with your values)\n$AWS_REGION = "ap-southeast-1"\n# To get ID: aws sts get-caller-identity --query Account --output text --profile backend-account\n$AWS_ACCOUNT_ID = "123456789012"     # Replace with your Backend Account ID\n$ECR_REPO_NAME = "mservice1"\n$AWS_PROFILE = "backend-account"     # Replace with your SSO profile name\n\n# 3. Login ECR\n# Note: Using \'cmd /C\' to avoid PowerShell pipe encoding issues\ncmd /C "aws ecr get-login-password --region $AWS_REGION --profile $AWS_PROFILE | docker login --username AWS --password-stdin $AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com"\n\n# 4. Build Image\ndocker build -t $ECR_REPO_NAME .\n\n# 5. Tag & Push\ndocker tag "$ECR_REPO_NAME`:latest" "$AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com/$ECR_REPO_NAME`:latest"\ndocker push "$AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com/$ECR_REPO_NAME`:latest"\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"ECR Push \u2013 to be added",src:s(4411).A+"",width:"1141",height:"720"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Force new ECS deployment to pull latest image:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'aws ecs update-service --cluster mservice1 --service mservice1 --force-new-deployment --profile backend-account\n\n# Check service status\naws ecs describe-services --cluster mservice1 --services mservice1 --profile backend-account --query "services[0].{Status:status, Running:runningCount, Desired:desiredCount, Events:events[0].message}"\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"ECS Service \u2013 to be added",src:s(6028).A+"",width:"1145",height:"187"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Update Lambda mservice2 code (if needed):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# For linux or mac\ncd ../mservice2/\nzip -r mservice2.zip app2.py requirements.txt\naws lambda update-function-code \\\n  --function-name <lambda_name> \\\n  --zip-file fileb://mservice2.zip \\\n  --profile backend-account\n\n# For windows (PowerShell)\ncd "..\\mservice2"\n# 1. Zip file code\nCompress-Archive -Path app2lambda.py -DestinationPath mservice2.zip -Force\n# 2. Update code to lambda\naws lambda update-function-code --function-name mservice2 --zip-file fileb://mservice2.zip --profile backend-account\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Lambda Update \u2013 to be added",src:s(8648).A+"",width:"1142",height:"779"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"task-7-verified-access-test",children:"Task 7: Verified Access Test"}),"\n",(0,r.jsx)(n.h3,{id:"objective-6",children:"Objective"}),"\n",(0,r.jsx)(n.p,{children:"Verify login flow with IAM Identity Center and access to the frontend app."}),"\n",(0,r.jsx)(n.h3,{id:"step-1-4",children:"Step 1"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Ensure Verified Access policy references correct ",(0,r.jsx)(n.code,{children:"idc_group_id"}),".",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.img,{alt:"Verified Access Policy \u2013 to be added",src:s(7785).A+"",width:"1877",height:"650"}),"\n",(0,r.jsx)(n.img,{alt:"Verified Access Policy \u2013 to be added",src:s(2898).A+"",width:"1047",height:"538"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Open the Verified Access endpoint URL (from Task 5 outputs) or your frontend domain."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Important:"})," Since we are using a self-signed certificate with a local domain (",(0,r.jsx)(n.code,{children:"app.zerotrust.local"}),"), public DNS cannot resolve this domain. You must map it in your local ",(0,r.jsx)(n.code,{children:"hosts"})," file."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Step 2a: Get the IP address of the Verified Access Endpoint"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Use the verified_access_endpoint_domain from Task 5 outputs\nnslookup <your-verified-access-endpoint>.edge-0fb...amazonaws.com\n# Copy one of the IP addresses returned (e.g., 18.1.2.3)\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"NSLookup \u2013 to be added",src:s(3533).A+"",width:"925",height:"195"}),"\n",(0,r.jsxs)(n.strong,{children:["Step 2b: Update ",(0,r.jsx)(n.code,{children:"hosts"})," file"]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"For Windows:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Open Notepad as Administrator."}),"\n",(0,r.jsxs)(n.li,{children:["Open file: ",(0,r.jsx)(n.code,{children:"C:\\Windows\\System32\\drivers\\etc\\hosts"})]}),"\n",(0,r.jsxs)(n.li,{children:["Add the line:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"52.220.156.117 app.zerotrust.local\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"Config hosts \u2013 to be added",src:s(2921).A+"",width:"791",height:"685"}),"\n",(0,r.jsx)(n.strong,{children:"For Linux/macOS:"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Open terminal."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Edit hosts file: ",(0,r.jsx)(n.code,{children:"sudo nano /etc/hosts"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Add the line:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"52.220.156.117 app.zerotrust.local\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Access URL: ",(0,r.jsx)(n.a,{href:"https://app.zerotrust.local",children:"https://app.zerotrust.local"}),"\n",(0,r.jsx)(n.img,{alt:"SSO Redirect \u2013 to be added",src:s(1680).A+"",width:"1919",height:"1032"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Login with a user in ",(0,r.jsx)(n.code,{children:"ZeroTrust-AppUsers"})," and validate application access.",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.img,{alt:"App after login \u2013 to be added",src:s(1300).A+"",width:"1747",height:"1824"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"task-8-monitoring--troubleshooting",children:"Task 8: Monitoring & Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"objective-7",children:"Objective"}),"\n",(0,r.jsx)(n.p,{children:"Confirm end-to-end connectivity and inspect logs."}),"\n",(0,r.jsx)(n.h3,{id:"step-1-5",children:"Step 1"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"End-to-end path: Frontend (ECS) \u2192 mservice1 (ECS) \u2192 mservice2 (Lambda) via VPC Lattice."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Useful CloudWatch log tails:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Frontend\naws logs tail /ecs/frontend --follow --profile frontend-account\n\n# Backend ECS\naws logs tail /ecs/mservice1 --follow --profile backend-account\n\n# Backend Lambda\naws logs tail /aws/lambda/mservice2 --follow --profile backend-account\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"CloudWatch Logs \u2013 to be added",src:s(8967).A+"",width:"912",height:"515"}),"\n",(0,r.jsx)(n.img,{alt:"CloudWatch Logs \u2013 to be added",src:s(4899).A+"",width:"912",height:"468"}),"\n",(0,r.jsx)(n.img,{alt:"CloudWatch Logs \u2013 to be added",src:s(6578).A+"",width:"908",height:"513"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Quick tips:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["ECS task not starting:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check security groups, subnets, IAM roles (especially CloudWatch Logs permissions as guided in Task 5)."}),"\n",(0,r.jsx)(n.li,{children:"Review detailed logs in CloudWatch Logs to identify permission or network errors."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Verified Access deny/redirect issues: check ",(0,r.jsx)(n.code,{children:"idc_group_id"}),", group membership, policy"]}),"\n",(0,r.jsx)(n.li,{children:"Lattice resolution issues: check Route 53 profile association and RAM sharing"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"task-9-cost-optimization-tier-0",children:"Task 9: Cost Optimization (Tier 0)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["ECS Fargate task: CPU ",(0,r.jsx)(n.code,{children:"256"}),", Memory ",(0,r.jsx)(n.code,{children:"512"}),", desired count ",(0,r.jsx)(n.code,{children:"1"})]}),"\n",(0,r.jsxs)(n.li,{children:["Lambda: Memory ",(0,r.jsx)(n.code,{children:"128 MB"}),", Timeout ",(0,r.jsx)(n.code,{children:"30s"})]}),"\n",(0,r.jsx)(n.li,{children:"Use 2 AZs, avoid NAT gateways when possible, prefer VPC endpoints for S3/ECR"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Tier-0 Settings \u2013 to be added",src:s(525).A+"",width:"1860",height:"780"})}),"\n",(0,r.jsx)(n.p,{children:"Estimated monthly cost: ~$25\u201340 depending on usage."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"task-10-cleanup",children:"Task 10: Cleanup"}),"\n",(0,r.jsx)(n.h3,{id:"objective-8",children:"Objective"}),"\n",(0,r.jsx)(n.p,{children:"Destroy all resources including infrastructure, logs, and identity configurations to avoid ongoing charges and ensure a clean slate."}),"\n",(0,r.jsx)(n.h3,{id:"step-1-clean-up-application-artifacts",children:"Step 1: Clean up Application Artifacts"}),"\n",(0,r.jsxs)(n.p,{children:["Terraform cannot destroy non-empty ECR repositories. We must force-delete all images, not just ",(0,r.jsx)(n.code,{children:"latest"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Linux/MB\n# 1. Empty Frontend ECR\naws ecr list-images --repository-name frontend --profile frontend-account --query 'imageIds[*]' --output json | \\\naws ecr batch-delete-image --repository-name frontend --image-ids file:///dev/stdin --profile frontend-account || true\n\n# 2. Empty Backend ECR\naws ecr list-images --repository-name mservice1 --profile backend-account --query 'imageIds[*]' --output json | \\\naws ecr batch-delete-image --repository-name mservice1 --image-ids file:///dev/stdin --profile backend-account || true\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-powershell",children:"# Windows (PowerShell)\n# 1. Empty Frontend ECR\n$images = aws ecr list-images --repository-name frontend --profile frontend-account --query 'imageIds[*]' --output json\nif ($images -ne \"[]\") {\n    $images | Set-Content images.json\n    aws ecr batch-delete-image --repository-name frontend --image-ids file://images.json --profile frontend-account\n    Remove-Item images.json\n}\n\n# 2. Empty Backend ECR\n$images = aws ecr list-images --repository-name mservice1 --profile backend-account --query 'imageIds[*]' --output json\nif ($images -ne \"[]\") {\n    $images | Set-Content images.json\n    aws ecr batch-delete-image --repository-name mservice1 --image-ids file://images.json --profile backend-account\n    Remove-Item images.json\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"Empty Frontend ECR",src:s(4160).A+"",width:"1140",height:"823"}),"\n",(0,r.jsx)(n.img,{alt:"Empty Backend ECR",src:s(7988).A+"",width:"1142",height:"790"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Troubleshooting Failures:"}),"\nIf you see ",(0,r.jsx)(n.code,{children:"failures"})," in the output (e.g., ",(0,r.jsx)(n.code,{children:"ImageReferencedByManifestList"}),"), it means a parent manifest was deleted before its children. ",(0,r.jsx)(n.strong,{children:"Solution:"})," Simply ",(0,r.jsx)(n.strong,{children:"run the command block one more time"})," to clean up the remaining orphaned images."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Troubleshooting Failures",src:s(5255).A+"",width:"1142",height:"712"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note"}),": The ",(0,r.jsx)(n.code,{children:"|| true"})," prevents the script from stopping if the repo is already empty."]}),"\n",(0,r.jsx)(n.h3,{id:"step-2-destroy-infrastructure-terraform",children:"Step 2: Destroy Infrastructure (Terraform)"}),"\n",(0,r.jsx)(n.p,{children:"Destroy resources in the reverse order of creation (Backend \u2192 Frontend \u2192 Network)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# 1. Destroy Backend\ncd backend/\nterraform destroy -auto-approve\n\n# 2. Destroy Frontend\ncd ../frontend/\nterraform destroy -auto-approve\n\n# 3. Destroy Network\ncd ../network/\nterraform destroy -auto-approve\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{alt:"Destroy Backend",src:s(4667).A+"",width:"1120",height:"580"}),"\n",(0,r.jsx)(n.img,{alt:"Destroy Frontend",src:s(7631).A+"",width:"1137",height:"515"}),"\n",(0,r.jsx)(n.img,{alt:"Destroy Network",src:s(2049).A+"",width:"1145",height:"519"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:'Troubleshooting: "waiting for delete... HealthCheckNotSupported" or "UNAVAILABLE"'}),"\nIf you encounter this error during backend destruction, it is a known timing issue with VPC Lattice Target Groups and ALBs.\n",(0,r.jsx)(n.strong,{children:"Solution:"})," Simply ",(0,r.jsxs)(n.strong,{children:["run ",(0,r.jsx)(n.code,{children:"terraform destroy -auto-approve"})," again"]}),". The stuck resources will usually be cleaned up on the second attempt."]}),"\n",(0,r.jsx)(n.h3,{id:"step-3-clean-up-logs-hidden-costs",children:"Step 3: Clean up Logs (Hidden Costs)"}),"\n",(0,r.jsx)(n.p,{children:"Terraform often leaves CloudWatch Log Groups behind. Delete them manually or via CLI to save storage costs."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Linux/Mac\n# Frontend Account Logs\naws logs describe-log-groups --query 'logGroups[*].logGroupName' --output text --profile frontend-account | \\\nxargs -I {} aws logs delete-log-group --log-group-name {} --profile frontend-account\n\n# Backend Account Logs\naws logs describe-log-groups --query 'logGroups[*].logGroupName' --output text --profile backend-account | \\\nxargs -I {} aws logs delete-log-group --log-group-name {} --profile backend-account\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-powershell",children:"# Windows (PowerShell)\n# Frontend Account Logs\n$logs = aws logs describe-log-groups --query 'logGroups[*].logGroupName' --output json --profile frontend-account | ConvertFrom-Json\nif ($logs) { $logs | ForEach-Object { aws logs delete-log-group --log-group-name $_ --profile frontend-account } }\n\n# Backend Account Logs\n$logs = aws logs describe-log-groups --query 'logGroups[*].logGroupName' --output json --profile backend-account | ConvertFrom-Json\nif ($logs) { $logs | ForEach-Object { aws logs delete-log-group --log-group-name $_ --profile backend-account } }\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Clean up Logs",src:s(4259).A+"",width:"1137",height:"143"})}),"\n",(0,r.jsx)(n.h3,{id:"step-4-clean-up-identity-center-manual",children:"Step 4: Clean up Identity Center (Manual)"}),"\n",(0,r.jsx)(n.p,{children:"Since Task 1 was done manually, revert it manually in the Management Account (1400) to keep the organization clean."}),"\n",(0,r.jsx)(n.h4,{id:"remove-account-assignments",children:"Remove Account Assignments:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["In IAM Identity Center, go to ",(0,r.jsx)(n.strong,{children:"AWS accounts"})," in the left sidebar.\n",(0,r.jsx)(n.img,{alt:"Remove Account Assignments",src:s(2369).A+"",width:"1873",height:"953"})]}),"\n",(0,r.jsxs)(n.li,{children:["Click on the ",(0,r.jsx)(n.strong,{children:"name of each account"})," (e.g., ",(0,r.jsx)(n.code,{children:"ZT-Network-Account"}),") to open its details.\n",(0,r.jsx)(n.img,{alt:"Remove Account Assignments",src:s(4048).A+"",width:"1875",height:"955"})]}),"\n",(0,r.jsxs)(n.li,{children:["Under the ",(0,r.jsx)(n.strong,{children:"Users or groups"})," tab, check the box next to the assigned users/groups (e.g., ",(0,r.jsx)(n.code,{children:"ZeroTrust-Admins"}),").\n",(0,r.jsx)(n.img,{alt:"Remove Account Assignments",src:s(297).A+"",width:"1873",height:"955"})]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Remove access"})," and confirm."]}),"\n",(0,r.jsxs)(n.li,{children:["Repeat for the other 2 accounts.\n",(0,r.jsx)(n.img,{alt:"Remove Account Assignments",src:s(7878).A+"",width:"1872",height:"960"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"delete-permission-sets",children:"Delete Permission Sets:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.strong,{children:"Permission sets"})," > Select ",(0,r.jsx)(n.code,{children:"ZeroTrust-NetworkAdmin"}),", ",(0,r.jsx)(n.code,{children:"ZeroTrust-AppDeveloper"}),", etc. > ",(0,r.jsx)(n.strong,{children:"Delete"}),".\n",(0,r.jsx)(n.img,{alt:"Remove Account Assignments",src:s(3071).A+"",width:"1875",height:"950"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"delete-usersgroups-optional",children:"Delete Users/Groups (Optional):"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Delete ",(0,r.jsx)(n.code,{children:"dev1"})," user and groups (",(0,r.jsx)(n.code,{children:"ZeroTrust-Admins"}),", ",(0,r.jsx)(n.code,{children:"ZeroTrust-Developers"}),", ",(0,r.jsx)(n.code,{children:"ZeroTrust-AppUsers"}),") if no longer needed.\n",(0,r.jsx)(n.img,{alt:"Remove Account Assignments",src:s(7956).A+"",width:"1873",height:"953"}),"\n",(0,r.jsx)(n.img,{alt:"Remove Account Assignments",src:s(9085).A+"",width:"1878",height:"957"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-5-handling-member-accounts",children:"Step 5: Handling Member Accounts"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.strong,{children:"AWS Organizations"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Select the check box next to the member account name (e.g., ",(0,r.jsx)(n.code,{children:"ZT-Backend-Account"}),").\n",(0,r.jsx)(n.img,{alt:"Remove Account Assignments",src:s(7060).A+"",width:"1872",height:"958"})]}),"\n",(0,r.jsxs)(n.li,{children:["Choose ",(0,r.jsx)(n.strong,{children:"Actions"})," > ",(0,r.jsx)(n.strong,{children:"Close"}),".\n",(0,r.jsx)(n.img,{alt:"Remove Account Assignments",src:s(3919).A+"",width:"1875",height:"960"})]}),"\n",(0,r.jsxs)(n.li,{children:["Follow the confirmation steps to close the account.\n",(0,r.jsx)(n.img,{alt:"Remove Account Assignments",src:s(630).A+"",width:"1872",height:"955"})]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.em,{children:"Note: Closed accounts remain visible for a short time but are suspended immediately and permanently deleted after 90 days."})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Central auth with IAM Identity Center across multi-account"}),"\n",(0,r.jsx)(n.li,{children:"VPN-less access via Verified Access with fine-grained policies"}),"\n",(0,r.jsx)(n.li,{children:"Service-to-service connectivity simplified by VPC Lattice"}),"\n",(0,r.jsx)(n.li,{children:"Terraform-first, repeatable deployment with lab-friendly costs"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"workshop-completion-status",children:"Workshop Completion Status"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Section"}),(0,r.jsx)(n.th,{children:"Status"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Task 1: Identity Center Setup"}),(0,r.jsx)(n.td,{children:"Complete"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Task 2: CLI SSO Profiles"}),(0,r.jsx)(n.td,{children:"Complete"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Task 3: Repo & Variables"}),(0,r.jsx)(n.td,{children:"Complete"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Task 4: Networking Deploy"}),(0,r.jsx)(n.td,{children:"Complete"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Task 5: Frontend Deploy + Build"}),(0,r.jsx)(n.td,{children:"Complete"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Task 6: Backend Deploy + Build"}),(0,r.jsx)(n.td,{children:"Complete"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Task 7: Verified Access Test"}),(0,r.jsx)(n.td,{children:"Complete"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Task 8: Monitoring & Troubleshooting"}),(0,r.jsx)(n.td,{children:"Complete"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Task 9: Cost Optimization"}),(0,r.jsx)(n.td,{children:"Complete"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Task 10: Cleanup"}),(0,r.jsx)(n.td,{children:"Complete"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["AWS Verified Access: ",(0,r.jsx)(n.a,{href:"https://docs.aws.amazon.com/verified-access/",children:"https://docs.aws.amazon.com/verified-access/"})]}),"\n",(0,r.jsxs)(n.li,{children:["Amazon VPC Lattice: ",(0,r.jsx)(n.a,{href:"https://docs.aws.amazon.com/vpc-lattice/",children:"https://docs.aws.amazon.com/vpc-lattice/"})]}),"\n",(0,r.jsxs)(n.li,{children:["AWS Identity Center: ",(0,r.jsx)(n.a,{href:"https://docs.aws.amazon.com/singlesignon/",children:"https://docs.aws.amazon.com/singlesignon/"})]}),"\n",(0,r.jsxs)(n.li,{children:["AWS Organizations: ",(0,r.jsx)(n.a,{href:"https://docs.aws.amazon.com/organizations/",children:"https://docs.aws.amazon.com/organizations/"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},2369(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-104-remove-account-assignments-389f7798aa1546c94c18503d4f226e22.png"},2886(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-52-ecr-push-frontend-9c07cca17a425bfcae051618029d5d30.png"},2898(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-71-verified-access-policy-terraform-3623c6ee5aa3154474a35344e9f01258.png"},2921(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-72-config-hosts-4f21480438420c5f7982509be8507191.png"},3059(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-41-network-apply-a9c044ecebb5071a644e646d2a029fec.png"},3071(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-104-remove-account-assignments-5-3f9939dfacbcbaba8c7cce38bed1559f.png"},3533(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-72-nslookup-66050d45f4fa95dabb5ee1e8e02787c6.png"},3590(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/organization_id-b2086c452e015ce5bdcb2055bb51203a.jpeg"},3681(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-11-groups-b1487f2a81508a410fdfad7243ade83e.jpg"},3919(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-105-remove-account-assignments-2-97053a185ca833f5d48ea5a19d669f05.png"},4048(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-104-remove-account-assignments-2-15af5b135b293d84be37312c7d0b93d3.png"},4122(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-51-frontend-apply-419e8b1363e4964e4a88a06d47fab222.png"},4160(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-101-empty-frontend-ecr-d7f1108cc63dccd711544e0f2aa37da9.png"},4224(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-00-accounts-1d654d1bd38071a09ec345404b776ff6.jpeg"},4259(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-102-clean-up-logs-e05d800e6b2752e2fbaec5e70a0321a6.png"},4314(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-13-permission-networkadmin-1fd8b14d5b283b864835941ce2d6946d.png"},4347(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-12-users-loginin4-2fd4a59592d09e959ac66aef5acc902b.png"},4411(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-63-ecr-push-mservice1-1282a152ad4e9c009f8149e8beaa3bc8.png"},4667(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-102-destroy-backend-0f8280859a9d1410d99a29a7e7bbf293.png"},4688(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-14-assign-accounts-a5695d79d7437550364f8b1844aa93c7.png"},4899(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-81-cloudwatch-backend-82494f04a5a435eeafa9894e8ec8d450.png"},5255(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-101-troubleshooting-failures-81208a416784889e55e5abc2f809433b.png"},5425(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-21-configure-sso-session-f0c1fd13117ef6b0dd15afaec476a4a3.png"},5595(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/group_id-6eb80f8d04845b70115058e5caf66cd4.png"},5916(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-62-backend-apply-644c97d9b51c00110f3c7d56b29722ee.png"},6028(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-63-ecs-service-check-507f64e2b778873683c58bc05eecd6f4.png"},6378(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-51-frontend-apply-output-d0cefbdd5e32b8e0a83520e1460ab953.png"},6578(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-81-cloudwatch-lambda-d933d89ade72626cc353b3a0f0269a36.png"},6625(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-14-assign-accounts-ztna-config-group-f4a2e2a26f634e5e52f2641a9e06a540.png"},6870(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-13-permission-sets-54fc6ccd21db83dbb0e0626344d617ce.png"},7034(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-12-users-implement-b7a47c316e94adee7b0981f784320ccd.png"},7060(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-105-remove-account-assignments-1-38afa771845b426ccb30a8002dc911c0.png"},7193(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-62-backend-output-3a4e580bae6832f2fdf6b46892d2d7b2.png"},7631(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-102-destroy-frontend-ec74fb4320f7526d0b1b8642da09d616.png"},7785(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-71-verified-access-policy-06d10232c8d2822b47ec6a63a01c9757.png"},7878(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-104-remove-account-assignments-4-7d889467439b91a9d69adf2abe57c440.png"},7900(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/account_id-25bd8637c903b3c3192a76f6f1b838d3.jpeg"},7956(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-104-remove-account-assignments-6-4670c9f2a824c02c3eb41ae8a7de8622.png"},7988(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-101-empty-backend-ecr-7b11001762c99a35368271426143ce7b.png"},8453(e,n,s){s.d(n,{R:()=>c,x:()=>o});var i=s(6540);const r={},t=i.createContext(r);function c(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(t.Provider,{value:n},e.children)}},8648(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-64-lambda-update-bf7f74563d874289a5ca9c7b11419ef1.png"},8897(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-53-ecs-service-check-7af6e90ed3ecd02af9756fa41765e095.png"},8963(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-14-assign-accounts-ztna-config-permission-3084368c4fcd1541a1510f9ddc7784d4.png"},8967(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-81-cloudwatch-frontend-506c1d1ce0ac4aaf0d86357f97ab3076.png"},9061(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-12-users-test-69ef4eb7d57d5466482d21cded194d9a.png"},9085(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-104-remove-account-assignments-7-230807d640828bbc071e32c86e7ebe05.png"},9275(e,n,s){s.d(n,{A:()=>i});const i=s.p+"assets/images/zta-41-network-output-aad800733deab8f4e05e7a0640858be5.png"}}]);